/* =========================================
   1. RESET E BASE
   ========================================= */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  height: 100vh;
  font-family: monospace;
  overflow: hidden;
  background: black;
  color: white;
}

/* =========================================
   2. ESTRUTURA DE TELAS (SISTEMA)
   ========================================= */
.tela {
  position: fixed;
  inset: 0;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.6s ease;

  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  z-index: 1;
}

.tela.ativa {
  opacity: 1;
  pointer-events: auto;
}

/* =========================================
   3. BACKGROUNDS (CORRIGIDOS)
   ========================================= */
.menu-bg {
  background: 
    linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0.85),
      rgba(0, 0, 0, 0.40),
      rgba(0, 0, 0, 0.0)
    ),
    url("tpn inicial paper.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}


.tutorial-bg {
  background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.1)),
              url("tpn inicial paper.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.jogo-bg {
  background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.1)),
              url("gracefiled.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* Fundos por estado do body */
body.continuacao {
  background: linear-gradient(to bottom, rgba(0,0,0,0.7), rgba(0,0,0,0.2)),
              url("wood.jpg") center/cover no-repeat;
}

body.p1 {
  background: linear-gradient(to bottom, rgba(0,0,0,0.7), rgba(0,0,0,0.2)),
              url("floresta.jpg") center/cover no-repeat;
}

body.p2 {
  background: linear-gradient(to bottom, rgba(0,0,0,0.7), rgba(0,0,0,0.2)),
              url("darkforest.jpeg") center/cover no-repeat;
}

body.p3 {
  background: linear-gradient(to bottom, rgba(0,0,0,0.7), rgba(0,0,0,0.2)),
              url("ultimo.jpg") center/cover no-repeat;
}

/* =========================================
   4. UI: TEXTOS, TÍTULOS E BOTÕES
   ========================================= */
/* Título no topo */
#menu {
  justify-content: flex-start !important;
  padding-top: 40px; /* espaço para não colar no topo */
}

.titulo {
  width: 90%;
  max-width: 600px;
  margin-bottom: 30px;
  margin-top: 0; /* garantir topo */
}


/* Texto narrativo */
.texto {
  width: 80%;
  max-width: 900px;
  text-align: center;

  font-family: "Georgia", serif;
  font-size: 24px;
  line-height: 1.6;
  color: gold;

  text-shadow: 0 0 5px rgba(255,215,0,0.4),
               0 0 10px rgba(255,215,0,0.3);

  background: rgba(0, 0, 0, 0.45);
  padding: 25px 30px;
  border-radius: 12px;
}

.botoes {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  margin-top: 20px;
}

.btn-img {
  width: 250px;
  cursor: pointer;
  transition: 0.25s ease;
}

.btn-img:hover {
  filter: brightness(1.6) drop-shadow(0 0 12px white);
  transform: scale(1.05);
}

/* Botões de navegação */
#continuar, 
#pular {
  margin-top: 30px;
  width: 200px;
  cursor: pointer;
  animation: fadeBtn 0.6s ease;
}

#continuar {
  display: none;
}

/* =========================================
   5. ITENS
   ========================================= */
.icone-carta {
  position: fixed;
  top: 20px;
  left: 20px;
  width: 90px;
  cursor: pointer;
  z-index: 60;
  transition: 0.2s ease;
}

.icone-carta:hover {
  transform: scale(1.08);
}

.carta {
  position: fixed;
  left: 50%;
  top: 50%;
  width: 420px;

  transform: translate(-50%, 120%);
  opacity: 0;
  transition: 0.6s cubic-bezier(0.2, 0.7, 0.2, 1);
  z-index: 50;
}

.carta.aberta {
  transform: translate(-50%, -50%);
  opacity: 1;
}

.personagem {
  position: fixed;
  bottom: 0;
  right: 10px;
  width: 260px;
  z-index: 5;
  pointer-events: none;
}

/* =========================================
   6. PUZZLE (PORTAS) — CORRIGIDO
   ========================================= */

.puzzle-container {
  min-height: 100vh; /* centralizar verticalmente */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.puzzle-container h2 {
  font-family: "Georgia", serif;
  font-size: 28px;
  margin-bottom: 40px;
  color: gold;
  text-shadow: 0 0 10px black;
  text-align: center;
}

.portas {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 40px;
  width: 100%;
  flex-wrap: wrap;
}

.porta {
  width: 260px;
  cursor: pointer;
  transition: 0.25s ease;
  display: block;
}

.porta:hover {
  transform: translateY(-10px) scale(1.05);
  filter: brightness(1.3);
}

.porta.correta:hover {
  filter: brightness(1.6) drop-shadow(0 0 12px gold);
}

.continuar-puzzle {
  margin-top: 40px;
  width: 200px;
  cursor: pointer;
  transition: 0.2s ease;
}

.continuar-puzzle:hover {
  transform: scale(1.05);
}

/* =========================================
   7. ANIMAÇÕES
   ========================================= */
@keyframes fadeBtn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}